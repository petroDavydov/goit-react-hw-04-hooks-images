(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{13:function(e,t,a){e.exports={Overlay:"Modal_Overlay__mJd1P",Modal:"Modal_Modal__1lAgQ",ImCross:"Modal_ImCross__i8kuf"}},15:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2ZiZH",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__1jimB"}},18:function(e,t,a){e.exports={errorImages:"Skeleton_errorImages__1TC00",spanError:"Skeleton_spanError__32xVl"}},29:function(e,t,a){e.exports={container:"Container_container__yNXL4"}},30:function(e,t,a){e.exports={containerTriangle:"Loader_containerTriangle__dCiSf"}},32:function(e,t,a){e.exports={Button:"Button_Button__nTHHG"}},33:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1S_S5"}},35:function(e,t,a){e.exports={IconButton:"IconButton_IconButton__1aU8J"}},42:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),c=a.n(o),s=(a(42),a(19)),i=a(4),l=a(5),u=a(7),h=a(6),m=a(29),d=a.n(m),b=a(1);var g=function(e){var t=e.children;return Object(b.jsx)("div",{className:d.a.container,children:t})},p=a(30),j=a.n(p),f=a(31),y=a.n(f),O=(a(64),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(b.jsx)("div",{className:j.a.containerTriangle,children:Object(b.jsx)(y.a,{type:"BallTriangle",color:"#00BFFF",height:"100",width:"100",timeout:3e3})})}}]),a}(n.Component)),x=O;var v=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},_=a(32),I=a.n(_);var S=function(e){var t=e.onClick;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("button",{type:"button",onClick:t,className:I.a.Button,children:"Load More..."})})},k=a(9),w=a.n(k),C=a(12),M=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={searchQuery:""},e.handleSubmit=function(t){if(t.preventDefault(),""===e.state.searchQuery.trim())return Object(C.b)("Enter the name of the picture, please");e.props.onSubmit(e.state.searchQuery),e.setState({searchQuery:""})},e.handleNameChange=function(t){e.setState({searchQuery:t.target.value.toLowerCase()})},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("header",{className:w.a.Searchbar,children:Object(b.jsxs)("form",{className:w.a.SearchForm,onSubmit:this.handleSubmit,children:[Object(b.jsx)("button",{type:"submit",className:w.a.SearchFormButton,children:Object(b.jsx)("span",{className:w.a.SearchFormButtonLabel,children:"Search"})}),Object(b.jsx)("input",{className:w.a.SearchFormInput,name:"searchQuery",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.searchQuery,onChange:this.handleNameChange})]})})})}}]),a}(n.Component),B=M,F=a(33),N=a.n(F),L=a(15),Q=a.n(L),G=a.p+"static/media/mastersearch.e466aaa0.png";var E=function(e){var t=e.onModal,a=e.webformatURL,n=void 0===a?G:a,r=e.tags,o=void 0===r?"photo":r,c=e.image;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("li",{className:Q.a.ImageGalleryItem,children:Object(b.jsx)("img",{src:n,alt:o,onClick:function(){t(c)},className:Q.a.ImageGalleryItemImage})})})};var D=function(e){var t=e.pixabayImages,a=e.onModal;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("ul",{className:N.a.ImageGallery,children:t.map((function(e){return Object(b.jsx)(E,{tags:e.tags,webformatURL:e.webformatURL,image:e,onModal:a},e.id)}))})})},T=a(16),U=a.n(T),P=a(34),R=a(17),A=a.n(R),H="22948593-eb3728724c643cf2948c736ef";function J(){return J=Object(P.a)(U.a.mark((function e(t){var a,n,r,o=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:1,e.prev=1,e.next=4,A.a.get("?&q=".concat(t,"&page=").concat(a,"&per_page=12&key=").concat(H));case 4:return n=e.sent,r=n.data.hits,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),J.apply(this,arguments)}A.a.defaults.baseURL="https://pixabay.com/api/";var K=function(e){return J.apply(this,arguments)},Z=(a(84),a(13)),q=a.n(Z),W=a(20),V=a(37),X=a(35),Y=a.n(X),z=["children","onModal"],$=function(e){var t=e.children,a=e.onModal,n=Object(V.a)(e,z);return Object(b.jsx)("button",Object(W.a)(Object(W.a)({type:"button",className:Y.a.IconButton,onClick:a},n),{},{children:t}))};$.defaultProps={onModal:function(){return null},children:null};var ee=$,te=a(36),ae=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onModal()},e.handBackDropClick=function(t){t.currentTarget===t.target&&e.props.onModal()},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(o.createPortal)(Object(b.jsx)("div",{className:q.a.Overlay,onClick:this.handBackDropClick,children:Object(b.jsxs)("div",{className:q.a.Modal,children:[this.props.children,Object(b.jsx)(ee,{onClick:this.props.onModal,"aria-label":"close modal",children:Object(b.jsx)(te.a,{width:"40",height:"40",className:q.a.ImCross})})]})}),document.getElementById("modalRoot"))}}]),a}(n.Component),ne=ae,re=a(18),oe=a.n(re);function ce(){return Object(b.jsxs)("div",{role:"alert",children:[Object(b.jsx)("img",{src:G,alt:"error_images",className:oe.a.errorImages,width:"300",height:"500"}),Object(b.jsx)("span",{className:oe.a.spanError,children:"Sorry,We were try to find...But"})]})}var se=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={page:1,searchQuery:"",showModal:!1,loadingSpinner:!1,pixabayImages:[],largeImages:{}},e.fetchImagePbay=function(){var t=e.state,a=t.searchQuery,n=t.page;return e.setState({loadingSpinner:!0}),K(a,n).then((function(t){e.setState((function(e){return{pixabayImages:[].concat(Object(s.a)(e.pixabayImages),Object(s.a)(t)),page:e.page+1}}))}))},e.handleLoadMoreClick=function(){e.setState({loadingSpinner:!0}),e.fetchImagePbay().then((function(){v()})).catch((function(e){return console.log(e)})).finally((function(){return e.setState({loadingSpinner:!1})}))},e.handleFormSubmit=function(t){e.setState({searchQuery:t,page:1,pixabayImages:[]})},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e.ClickImages=function(t){e.setState({largeImage:t}),e.toggleModal()},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this;this.state.searchQuery!==t.searchQuery&&this.fetchImagePbay().catch((function(e){return console.log(e)})).finally((function(){return a.setState({loadingSpinner:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.showModal,a=e.searchQuery,n=e.pixabayImages,r=e.loadingSpinner,o=e.largeImage,c=this.toggleModal,s=this.handleFormSubmit,i=this.ClickImages,l=this.handleLoadMoreClick;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(C.a,{}),Object(b.jsx)(B,{onSubmit:s}),Object(b.jsxs)(g,{children:[0!==n.length?Object(b.jsx)(D,{onModal:i,pixabayImages:n}):""!==a&&Object(b.jsx)(ce,{}),r&&Object(b.jsx)(x,{}),0!==n.length&&Object(b.jsx)(S,{onClick:l}),t&&Object(b.jsxs)(ne,{onModal:c,children:[r&&Object(b.jsx)(x,{}),Object(b.jsx)("img",{src:o.largeImageURL,alt:o.tags})]})]})]})}}]),a}(n.Component),ie=se;c.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(ie,{})}),document.getElementById("root"))},9:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__2Z0pq",SearchForm:"Searchbar_SearchForm__1BY-p",SearchFormButton:"Searchbar_SearchFormButton__2bCN_",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__1s76j",SearchFormInput:"Searchbar_SearchFormInput__3alo-"}}},[[85,1,2]]]);
//# sourceMappingURL=main.ffe7ed14.chunk.js.map